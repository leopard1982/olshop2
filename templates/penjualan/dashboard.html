{% extends "base.html" %}
{% load static %}
{% block contents%}

<div style="background-color:whitesmoke;border-radius:5px;margin-top:20px;margin-left:-20px;" >
    <div class="box-sering-dicari-header d-flex align-items-center">
        <img src="{% static 'img/DILIHAT.png'%}" class="w-100 rounded"/>
        <div class='position-absolute'>
            <div class="panah-kanan rounded-circle px-2  text-white fw-bold d-flex justify-content-center align-items-center bg-secondary h1" style="padding-bottom:5px;margin-left:170px">&rarr;</div>
            <div class="panah-kanan rounded-circle px-2  text-white fw-bold d-flex justify-content-center align-items-center bg-secondary h1" style="padding-bottom:5px;margin-left:170px;margin-top:100px">&rarr;</div>
        </div>
    </div>
    <div class="position-absolute d-flex justify-content-evenly" style="margin-left:230px" id="box_sering_dicari_5">
        
    </div>
</div>
<div class="container d-flex justify-content-center align-items-center p-2 bg-danger rounded-pill text-center text-white fw-bold" style="margin-top:30px">
    <div class="px-2 h5">PILIHAN ETALASE:</div> 
    <div>
        <select id="select_etalase" class="form-select" style="width:200px">
            <option value="">--------</option>
            {% for etalase in etalasenya %}
            <option value="{{etalase.etalase_kode}}">{{etalase.etalase_nama}}</option>
            {% endfor%}
        </select>
    </div>
</div>
<div style=" container-fluid background-color:whitesmoke;border-radius:5px;margin-top:20px;margin-bottom:170px" >
    <div class="p-2 box-bawah" style="width:1120px">
        <div class=" rounded text-start  fw-bold d-flex justify-content-between" style="background:linear-gradient(to right,rgba(0,0,0,0.6),rgb(255,255,255),rgba(0,0,0,0.2)">
            <span class="text-start fw-bold" style="font-size:20px;margin-bottom:10px;margin-left:10px">BEST BUDGET PRODUCT</span>
            <span class="text-end" style="margin-bottom:10px;margin-right:10px;font-size:20px;">KATEGORI: <span id="kat_budget" class="fw-bold" style="font-size:20px;">SEMUA</span></span>
        </div>
    </div>
    <div class="d-flex justify-content-between">
        <div class=" panah-kiri">&lt;</div>
        <div class="position-absolute d-flex justify-content-evenly" style="margin-top:300px" id="box_sering_dicari_5">
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>  
        </div>
        <div class=" panah-kanan ">&gt;</div>
    </div>
</div>

<div style=" container-fluid background-color:whitesmoke;border-radius:5px;margin-top:20px;;margin-bottom:170px" >
    <div class="p-2 box-bawah" style="width:1120px">
        <div class=" rounded text-start  fw-bold d-flex justify-content-between" style="background:linear-gradient(to right,rgba(255,255,0,1),rgb(255,255,255),rgba(0,0,0,0.2)">
            <span class="text-start fw-bold" style="margin-bottom:10px;margin-left:10px;font-size:20px">GREAT PREMIUM PRODUCT</span>
            <span class="text-end" style="margin-bottom:10px;margin-right:10px;font-size:20px">KATEGORI: <span id="kat_premium" class="fw-bold" style="font-size:20px">SEMUA</span></span>
        </div>
    </div>
    <div class="d-flex justify-content-between">
        <div class=" panah-kiri">&lt;</div>
        <div class="position-absolute d-flex justify-content-evenly" style="margin-top:300px" id="box_sering_dicari_5">
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>  
        </div>
        <div class=" panah-kanan ">&gt;</div>
    </div>
</div>

<div style=" container-fluid background-color:whitesmoke;border-radius:5px;margin-top:20px;margin-bottom:170px" >
    <div class="p-2 box-bawah" style="width:1120px;">
        <div class=" rounded text-start  fw-bold d-flex justify-content-between" style="background:linear-gradient(to right,rgba(0,255,0,0.8),rgb(255,255,255),rgba(0,0,0,0.2)">
            <span class="text-start fw-bold" style="margin-bottom:10px;margin-left:10px;font-size:20px">GAJIAN SALE!</span>
            <span class="text-end" style="margin-bottom:10px;margin-right:10px;font-size:20px">KATEGORI: <span id="kat_gajian" class="fw-bold" style="font-size:20px">SEMUA</span></span>
        </div>
    </div>
    <div class="d-flex justify-content-between">
        <div class=" panah-kiri">&lt;</div>
        <div class="position-absolute d-flex justify-content-evenly" style="margin-top:300px" id="box_sering_dicari_5">
            <div class="box-sering-dicari">Test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
            <div class="box-sering-dicari">test</div>
        </div>
        <div class=" panah-kanan ">&gt;</div>
    </div>
    
</div>

<script>
    function ubahKeUang(data) {
        let x = data.toString();
        let lebar = x.length-1;
        let counter=1;
        let lebar2 = lebar;
        let uangku = "";
        while(lebar>-1) {
            uangku = x[lebar] + uangku;
            if(counter==3 && lebar!=0) {
                uangku = "." + uangku;
                counter=1;
            } else {
                counter++;
            }
            lebar-=1;
        }
        return "Rp. " + uangku + ",00";
    }
    $(document).ready(function() {
        isi_seringdicari();
    });

    function test() {
        alert("hohoho");
    }

    function new_produk() {
        freq_search();
        /* tampilkan hasil*/
        
        if($("#keyword").text().trim().length>0) {
            $("#hasil_pencarian").empty();
            $.ajax({
                type: "POST",
                url: '/api/get/search/',
                data : {
                    'csrfmiddlewaretoken':csrfmiddlewaretokennya,
                    'keyword':  $("#keyword").text(),
                    'kategori': kategori
                },
                success : function (data) {
                    data.result.forEach(function (mydata){
                        tampilan = "<div id='cari_" + mydata.barang_sku +"' class='search-box-hasil d-flex justify-content-start align-items-center'>" +
                            "<img src='" + mydata.barang_foto1+"' style='margin-right:10px;width:50px;height:50px;border-radius:25px;margin-bottom:5px'>" +
                            "<div style='font-size:12px;font-weight:bold;'>" + mydata.barang_nama.toUpperCase() +"</div></div>";
                        $("#hasil_pencarian").append(tampilan);
                        $("#cari_" + mydata.barang_sku).click(function() {
                            $.ajax({
                                type: "POST",
                                url: '/api/get/search/hasil/',
                                data: {
                                    'csrfmiddlewaretoken':csrfmiddlewaretokennya,
                                    'kode_sku':  mydata.barang_sku
                                },
                                success: function(data) {
                                    console.log("pencarian di klik " + data);
                                    isi_seringdicari();
                                }
                            });
                        });
                    });


                }
            });
        }

    }
</script>

{% endblock%}